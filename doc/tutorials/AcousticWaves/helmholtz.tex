\chapter{Lossless \Idx{acoustic waves}}

\modinfo{Directory}{AcousticWaves}
\modinfo{Solvers}{\Idx{HelmholtzSolve}} 
\modinfo{Tools}{\Idx{ElmerFront}} 
\modinfo{Dimensions}{2D, Harmonic}


\subsection*{Introduction}

Elmer provides two alternative ways of conducting acoustic analyses in the
frequency domain. Firstly, one may simply use the Helmholtz equation which 
is based on the assumption of lossless flow, i.e.\ the effects of viscosity 
and heat conduction are assumed to be negligible. More refined analyses where 
these effects are taken into account may be carried out by using the specific 
solver for the set of time-harmonic dissipative acoustic equations. 
The aim of this tutorial is to demonstrate the usage of the solver
for the basic Helmholtz equation, which is frequently taken as the starting
point in acoustic analyses. 

\subsection*{Case description}

In this problem the fluctuations of the pressure in an air-filled
cavity shown in Figure~\ref{cavity.fig} are considered. The cavity is 
connected with the surrounding air by an open narrow pipe. The pressure 
fluctuations are generated by a vibrating membrane on the boundary $\Gamma_S$ 
with the frequency of the motion being $f=100$ Hz. 
The remaining parts of the boundary are assumed to be rigid walls. 
In addition, the effects of gravity are assumed to be negligible.

\begin{figure}
\setlength{\unitlength}{1mm}
\begin{center}
\begin{picture}(60,50)(0,-10)
\put(0,0){\line(1,0){50}}
\put(0,0){\line(0,1){30}}
\put(0,30){\line(1,0){21}}
\put(29,30){\line(1,0){21}}
\put(29,30){\line(0,1){10}}
\put(21,30){\line(0,1){10}}
\put(21,40){\line(1,0){8}}
\put(50,0){\line(0,1){30}}
\put(25,-1){\line(0,1){2}}
\put(40,-1){\line(0,1){2}}
\put(31,2){$\Gamma_S$}
\put(23,42){$\Gamma_0$}
\put(55,15){\vector(0,1){15}}
\put(55,15){\vector(0,-1){15}}
\put(55,35){\vector(0,1){5}}
\put(55,35){\vector(0,-1){5}}
\put(15,-5){\vector(-1,0){15}}
\put(15,-5){\vector(1,0){10}}
\put(33,-5){\vector(-1,0){8}}
\put(33,-5){\vector(1,0){7}}
\put(45,-5){\vector(-1,0){5}}
\put(45,-5){\vector(1,0){5}}
\put(15,22){\vector(-1,0){15}}
\put(15,22){\vector(1,0){6}}
\put(25,22){\vector(-1,0){4}}
\put(25,22){\vector(1,0){4}}
\put(10,-4){0.25}
\put(30,-4){0.15}
\put(43,-4){0.1}
\put(57,14){0.3}
\put(57,34){0.1}
\put(10,23){0.3}
\put(22,23){0.08}
\end{picture}
\end{center}
\caption{The geometry of the cavity.}
\label{cavity.fig}
\end{figure}

Suitable boundary conditions in terms of the pressure must be given. 
On the rigid walls the pressure flux is prescribed to vanish which 
corresponds to the assumption that there is no velocity in the direction 
normal to the boundary. At the open end $\Gamma_0$ the impedance boundary 
condition suitable for forward traveling plane waves is given by setting 
$Z=-c$ with $c$ being the sound speed. We assume that $c=343$ (m/s). 
Finally, the wave source is given by defining a non-vanishing pressure
flux on the corresponding part of the boundary. We take simply 
$\nabla P \cdot \vec n = 1$ where $P$ is the (complex)
amplitude of the pressure and $\vec n$ is the outward unit normal to the
boundary. 


\subsection*{Solution procedure}

\begin{itemize}

\item Before starting Elmer copy the geometry file ({\tt domain.egf}) to the 
working directory and then launch Elmer Front by giving the command
\ttbegin
ElmerFront
\ttend 

\item Open the geometry file by choosing Open Cad-file in the  
File menu. To enable browsing with the mouse click the button on the 
right-hand side of the field where the file name may be written. Here
the correct Cad file type is Elmer. Give also the model name (for example
{\tt helmholtz}) and write the path of the working directory in the
Model directory field.  

\item Select the equation to be solved by selecting Equations in
the Problem menu. Choose the Helmholtz equation and press 
{\tt Add} button. 

\item Define the angular frequency for the simulation by selecting 
Simulation parameters in the Problem menu. Enter the value
628.3 to the field and accept the value by clicking {\tt OK} button.

\item Define the sound speed for the medium by selecting 
Materials in the Model menu. Enter the value
343 for the sound speed and press {\tt Add} button.

\item Prescribe the boundary conditions by selecting 
Boundary conditions in the Model menu. Select (with the mouse)
Boundary1 and give the value for the boundary flux: 
\ttbegin
Wave flux Re = 1
Wave flux Re = 0
\ttend 
Finally, press {\tt Add} button. Then proceed to give 
the other boundary conditions in a similar manner (the value for the 
pressure is prescribed).

\item Create a finite element mesh  by selecting 
Define mesh in the Mesh menu. To begin with give a name for the mesh.
Define the number of element
edges on each boundary and then create the mesh by pressing
{\tt Generate Mesh} button.   

\item The problem may now be solved by selecting Solver in the Run menu.

\item After the solution is done, view the results by selecting the
Postprocessor from the Run menu.
\ttbegin
Run -> Postprocessor
\ttend
\item To save the created model, select Save model file from the File menu.
\ttbegin
File -> Save model file
\ttend
\end{itemize}


   

\subsection*{Results}

Using a mesh consisting of 3900 (quadratic) elements with 7601 nodes
the difference of the maximum and the minimum value of the pressure 
is found to be $\Delta p \approx 0.205$


   





















